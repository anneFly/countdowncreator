var Utils=function(e,t,a){"use strict";return a.maxValues={year:3e3,month:12,day:31,hour:23,minute:59},a.minValues={year:(new Date).getFullYear(),month:1,day:1,hour:0,minute:0},a.checkInput=function(e,t){return""!==t&&t>=a.minValues[e]&&a.maxValues[e]>=t},a.checkDate=function(e,t,a){var i=new Date(parseInt(e,10),parseInt(t,10)-1,parseInt(a,10)),n=i.getFullYear()===parseInt(e,10),r=i.getMonth()===parseInt(t,10)-1,u=i.getDate()===parseInt(a,10);return n&&r&&u},a.validateForm=function(t){var i={},n=!0;return e.each(t,function(t,a){var n=e(a).data("validate"),r=e(a).val();i[n]=r}),e.each(i,function(e,i){var r=a.checkInput(e,parseInt(i,10));t.filter(['[data-validate="',e,'"]'].join("")).toggleClass("invalid",!r),n=n&&r}),n?a.checkDate(i.year,i.month,i.day):!1},a}(jQuery,this,this.Utils||{}),Ui=function(e,t,a,i){"use strict";var n=function(e){this.init(e),this.bindEvents()};n.prototype.init=function(t){this.type=t.type,this.$el=e(t.selector),this.$input=this.$el.find("input"),this.maxValue=a.maxValues[this.type],this.minValue=a.minValues[this.type],this.value=""!==this.$input.val()?parseInt(this.$input.val(),10):t.value},n.prototype.bindEvents=function(){var t=this,i={add:function(e){return e+=1},sub:function(e){return e-=1}};this.$el.on("click","button",function(){return""===t.$input.val()?(t.renderValue(),void 0):(t.value=""!==t.$input.val()?parseInt(t.$input.val(),10):t.value,t.value=i[e(this).data("role")](t.value),a.checkInput(t.type,t.value)?(t.renderValue(),void 0):(t.value=i[e(this).data("undorole")](t.value),void 0))}),this.$input.on("blur",function(){return a.checkInput(t.type,e(this).val())?!0:(t.value=e(this).val()>t.maxValue?t.maxValue:t.minValue,t.renderValue(),void 0)})},n.prototype.renderValue=function(){var e,t=parseInt(this.$input.attr("maxlength"),10),a=(""+this.value).length,i=[];for(e=0;t-a>e;e++)i.push("0");this.$input.val([i.join(""),this.value].join(""))};var r=function(t){var i=this;this.$el=e(t.selector),this.$validateFields=e(t.requiredFields),this.$validateBtn=e(t.validateBtn),this.$el.on("submit",function(){return a.validateForm(i.$validateFields)}),this.$validateBtn.on("click",function(){a.validateForm(i.$validateFields)})};return i.form=new r({selector:"form",requiredFields:"[data-validate]",validateBtn:"button.show-preview"}),i.fields=[],i.fields.push(new n({selector:"#yearWrapper",type:"year",value:(new Date).getFullYear()}),new n({selector:"#monthWrapper",type:"month",value:1}),new n({selector:"#dayWrapper",type:"day",value:1}),new n({selector:"#hourWrapper",type:"hour",value:0}),new n({selector:"#minuteWrapper",type:"minute",value:0})),i}(jQuery,this,this.Utils,this.Ui||{});